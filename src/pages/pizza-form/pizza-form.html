<!--
  Generated template for the PizzaFormPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>{{title_form}} un Signalement</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

  <div *ngIf="isLoading;else form_content" text-center>
    <img src="../../assets/imgs/gif-load.gif" />
  </div>


  <ng-template #form_content>
    <form *ngIf="form" [formGroup]="form" (ngSubmit)="onSubmit();">


      <button ion-button type="button" (click)="openCamera()">Open Camera
      </button>
      <img *ngIf="pizza && pizza.img" src="data:image/jpeg;base64,{{pizza.img}}"/>
      <p>
        <ion-item>
          <ion-label floating>Nom</ion-label>
          <ion-input type="text" formControlName="name"></ion-input>
        </ion-item>

      </p>
      <p>
        <ion-item>
          <ion-label floating>Description</ion-label>
          <ion-textarea formControlName="description"></ion-textarea>
        </ion-item>

      </p>
      <p>
        <label>Cat√©gorie</label>
        <button *ngFor="let ingredient of listIngredient"
                (click)="toggleIngredient(ingredient._id)"
                [outline]="selectedIngredients.indexOf(ingredient._id) === -1"
                ion-button small type="button">
          {{ ingredient.name }}
        </button>


      </p>
      <p>
        <button type="submit" [disabled]="!form.valid" ion-button block>Enregistrer</button>
      </p>
    </form>
  </ng-template>

</ion-content>
